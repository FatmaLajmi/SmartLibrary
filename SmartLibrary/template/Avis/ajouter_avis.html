{% extends 'base.html' %}
{% load static %}
{% block content %}

<style>
    .rate-card {
        max-width: 650px;
        margin: auto;
        border-radius: 12px;
        overflow: hidden;
        background: #FAF7F2;
        border: 1px solid #E5DDD3;
    }

    .rate-header {
        background: #A6907C;
        color: white;
        padding: 20px;
        text-align: center;
    }

    .rate-subtitle {
        color: #74642F;
        font-weight: 600;
        margin-bottom: 10px;
    }

    .custom-btn-primary {
        background-color: #A6907C !important;
        border: none;
        color: white !important;
        padding: 10px 25px;
        border-radius: 8px;
        transition: 0.3s;
    }

    .custom-btn-primary:hover {
        background-color: #8B7866 !important;
    }

    .custom-btn-secondary {
        background-color: #D6C8BC !important;
        border: none;
        color: #4B3F35 !important;
        padding: 10px 25px;
        border-radius: 8px;
    }

    .info-box {
        background: #F3EEE8;
        border-left: 4px solid #A6907C;
        padding: 15px;
        border-radius: 8px;
    }
</style>

<div class="container my-5">

    <div class="rate-card shadow">

        <!-- Header -->
        <div class="rate-header">
            <h2 class="mb-0">Add a Review</h2>
            <small>Share your opinion about this book</small>
        </div>

        <div class="p-4">

            <!-- Book Information -->
            <h5 class="rate-subtitle">Book Information</h5>
            <div class="info-box mb-4">
                <p><strong>Title :</strong> <span class="text-primary">{{ livre.title }}</span></p>
                <p><strong>Author :</strong> <span class="text-secondary">{{ livre.author }}</span></p>

                {% if livre.description %}
                <p class="mt-2"><strong>Description:</strong>
                    <br>
                    <span class="text-muted">{{ livre.description|truncatewords:40 }}</span>
                </p>
                {% endif %}
            </div>

            <!-- Review Form -->
            <h5 class="rate-subtitle">Your Review</h5>

            <form method="post">
                {% csrf_token %}

                <!-- Rating -->
                <div class="mb-3">
                    <label class="form-label">
                        <strong>Rating:</strong>
                    </label>

                    <div class="rating-container p-3 rounded shadow-sm mb-2">
                        {{ form.note }}
                    </div>

                    <small class="text-muted d-block">Choose a value between 0 and 5.</small>
                </div>

                <!-- Comment -->
                <div class="mb-3">
                    <label class="form-label"><strong>Comment:</strong></label>
                    {{ form.commentaire }}
                    <small class="text-muted d-block">Tell us what you liked or disliked.</small>
                </div>

                <hr>

                <!-- Buttons -->
                <div class="d-flex justify-content-between">
                    <button class="custom-btn-primary" type="submit">
                        <i class="fas fa-check"></i> Submit
                    </button>

                    <a href="{% url 'index' %}" class="custom-btn-secondary">
                        <i class="fas fa-times"></i> Cancel
                    </a>
                </div>

            </form>
        </div>

    </div>

</div>

{% endblock %}